# img 태그를 이용한 정보 전달

현재 웹 페이지 로딩 중에 다른 도메인에 정보를 전달해야할 때가 있다. 

특히 반환 받을 필요 없이 일방적으로 정보를 보내기만 하면 되는 상황이라면 AJAX를 사용하지 않고 단순히 `<img src='정보를 보낼 곳?보낼정보항목=보낼정보값&...'>` 와 같이 `img` 태그만으르도 정보를 보낼 수 있다.

그런데 브라우저마다(특히 IE) `img` 태그를 처리하는 방식이 다를 수 있으므로 주의해야 한다.

`<img src='정보를 보낼 곳?보낼정보항목=보낼정보값&...'>` 이렇게 `width`나 `height` 값을 명시하지 않으면 크롬에서는 이미지를 렌더링하거나 DOM에 추가하지 않고 `src`에 명시된 곳으로 요청을 보내기만 한다. 즉, 의도하는 대로 동작한다.

하지만 IE에서 `<img src='정보를 보낼 곳?보낼정보항목=보낼정보값&...'>` 이렇게 처리하면 엑스박스가 나와서 화면 UI를 해치게 된다.

`<img src='정보를 보낼 곳?보낼정보항목=보낼정보값&...' width=0 height=0>` 이렇게 `width`, `height` 값을 0으로 명시해도 엑스박스는 안 나오지만 화면의 일부 영역을 차지하므로 화면 UI를 해치게 된다.

어떻게 하면 좋을까?

깔끔한 해결 방식은

>(new Image()).src = '정보를 보낼 곳?보낼정보항목=보낼정보값&...'

와 같이 `new Image()`를 사용하는 것이다.

이렇게 하면 IE에서도 크롬에서와 마찬가지로 이미지를 렌더링하거나 DOM에 추가하지 않고 `src`에 명시된 곳으로 요청을 보내기만 한다.

아래와 같이 할 수도 있겠으나, 어차피 DOM에 추가할 것도 아닌데 불필요하게 코드량만 길어져서 검증해보지는 않았다.

>let pixel = document.createElement('img');
>
>pixel.src = '정보를 보낼 곳?보낼정보항목=보낼정보값&...';

이렇게 `img` 태그로 정보를 전달하는 방법은 광고 업계에서 사용자를 식별하는 데 사용되는 쿠키 싱크(https://clearcode.cc/blog/cookie-syncing/)에서 주로 사용 된다.
